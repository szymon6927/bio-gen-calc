{% extends 'userpanel/base.html' %}
{% block userpanel_body %}
  <h1>Edit profile</h1>
  <form class="login-form" action="{{ url_for('userpanel.edit_profile') }}" method="POST">
    {{ form.hidden_tag() }}
    <div class="form-group">
      {{ form.first_name.label }}
      {{ form.first_name(class_="form-control", placeholder="login") }}
    </div>
    <div class="form-group">
      {{ form.last_name.label }}
      {{ form.last_name(class_="form-control", placeholder="login") }}
    </div>

    <div class="form-group">
      {{ form.login.label }}
      {{ form.login(class_="form-control", placeholder="login", disabled=True) }}
    </div>

    <div class="form-group">
      {{ form.email.label }}
      {{ form.email(class_="form-control", placeholder="login", disabled=True) }}
    </div>

    <button type="submit" class="btn btn-primary btn-block">Edit</button>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} mt-3" role="alert">{{ message|safe }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    {% for field in form.errors %}
      {% for error in form.errors[field] %}
        <div class="alert alert-danger mt-3" role="alert">{{ error }}</div>
      {% endfor %}
    {% endfor %}
  </form>
{% endblock %}